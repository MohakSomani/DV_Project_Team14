<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Indian Parliamentary Elections Turnout Scatter Plot</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="visualisations/js/race_style.css" />
    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
    <style>
      body {
        font-family: Arial, sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        background-color: #0c1016;
        color: white;
      }

      /* Turnout Scatterplot */
      #scatterplot-container {
        display: flex;
        height: 80vh;
        width: 80vw;
        align-items: center;
      }

      #turnout-scatterplot {
        flex: 1;
        max-width: 70vw;
        height: 100%;
      }

      #secondary-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        margin-left: 20px;
        max-width: 30vw;
        height: 100%;
      }

      #stateDropdown,
      #partyDropdown {
        width: 250px;
      }

      #dashboard {
        width: 200px;
      }

      #dropdowns {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        margin-left: 20px;
        max-width: 30vw;
      }

      select {
        padding: 10px;
        font-size: 16px;
        border: 1px solid steelblue;
        border-radius: 5px;
        background-color: #adb9ff;
        color: rgb(0, 0, 0);
        width: 100%;
        box-sizing: border-box;
      }

      select::after {
        content: "\25BC";
        position: absolute;
        top: 50%;
        right: 10px;
        transform: translateY(-50%);
        pointer-events: none;
      }

      select:focus {
        outline: none;
        border-color: #007bff;
        box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
      }

      .turnout-tooltip {
        position: absolute;
        text-align: center;
        padding: 6px;
        font: 12px sans-serif;
        background: #696969;
        border: 1px solid #aaa;
        border-radius: 5px;
        pointer-events: none;
      }

      .scatter_dot {
        stroke: #383838;
        stroke-width: 1.5px;
      }

      /* Average Turnout */

      #avg-turnout-container {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
      }

      #heading {
        flex: 1;
        text-align: center;
        padding: 20px;
      }

      #avg-turnout-graph-container {
        flex: 3;
        width: 100%;
        overflow: hidden;
      }

      .line {
        fill: none;
        stroke: steelblue;
        stroke-width: 2px;
      }

      .axis-text {
        font-size: 12px;
        fill: white;
      }

      .tooltip,
      .avg-turnout-tooltip,
      .pc-yearwise-tooltip,
      .turnout-chloropleth-tooltip {
        position: absolute;
        background-color: rgba(88, 88, 88, 0.7);
        color: white;
        padding: 5px;
        border-radius: 5px;
        pointer-events: none;
        opacity: 0;
      }

      .statewise-constituencies-tooltip {
        position: absolute;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 5px;
        border-radius: 5px;
        pointer-events: none;
        opacity: 0;
      }

      .dot {
        fill: rgb(0, 200, 255);
        cursor: pointer;
      }

      .dot:hover {
        fill: rgb(234, 0, 255);
      }

      .hover-line {
        stroke: #83018a;
        stroke-dasharray: 3, 3;
      }

      .grid line {
        stroke: rgb(142, 142, 142);
        stroke-opacity: 0.7;
        shape-rendering: crispEdges;
      }

      .grid path {
        stroke-width: 0;
      }

      #pc-yearwise-turnout-container,
      #avg-turnout-container,
      #turnout-chloropleth-container {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
      }

      #pc-yearwise-turnout-graph-container {
        flex: 3;
        width: 100%;
        overflow: hidden;
      }

      #map-container {
        flex: 3;
        width: 100%;
        overflow: hidden;
      }

      #year-dropdown {
        padding: 10px;
        font-size: 16px;
        border: 1px solid steelblue;
        border-radius: 5px;
        background-color: #adb9ff;
        color: rgb(0, 0, 0);
        width: 100%;
        box-sizing: border-box;
      }

      .constituency {
        stroke: rgb(0, 0, 0);
        stroke-width: 0.5;
        fill: none;
      }

      .constituency:hover {
        stroke: rgb(4, 255, 0);
        stroke-width: 2;
      }

      .statewise-constituencies-slider {
        width: 100%;
        height: 15px;
        border-radius: 5px;
        background: #969696;
        outline: none;
        opacity: 0.7;
        -webkit-transition: 0.2s;
        transition: opacity 0.2s;
        margin-top: 20px;
      }

      .statewise-constituencies-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 25px;
        height: 25px;
        border-radius: 50%;
        background: #04aa6d;
        cursor: pointer;
      }

      .statewise-constituencies-slider::-moz-range-thumb {
        width: 25px;
        height: 25px;
        border-radius: 50%;
        background: #04aa6d;
        cursor: pointer;
      }

      svg text {
        fill: white;
      }

      svg circle {
        stroke: white;
      }

      #statewise-margin-container {
        display: flex;
        width: 100vw;
        height: 100vh;
      }

      #sidebar {
        flex: 30%;
        padding: 20px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      #content {
        flex: 70%;
        padding: 20px;
      }

      #state-select,
      #year-select,
      #margin-slider {
        width: calc(100% - 20px);
        padding: 10px;
        font-size: 16px;
        border: 1px solid steelblue;
        border-radius: 5px;
        background-color: #adb9ff;
        color: rgb(0, 0, 0);
        margin-bottom: 10px;
      }

      #myButton {
        width: calc(100% - 20px);
        padding: 10px;
        font-size: 16px;
        border: none;
        border-radius: 5px;
        background-color: steelblue;
        color: white;
        cursor: pointer;
      }

      #scatterplot {
        width: 100%;
        height: calc(100% - 40px);
      }

      #tooltip {
        position: absolute;
        visibility: hidden;
        background: rgba(176, 176, 176, 0.8);
        border: 1px solid #999;
        padding: 5px;
        border-radius: 5px;
      }

      /* Forstress state */
      #state-overview-container {
        display: flex;
        justify-content: space-between;
        width: 100vw;
      }

      #fortress-state-map {
        width: 49%;
        height: 600px;
      }

      #fortress-bar-chart {
        width: 49%;
        height: 600px;
      }

      #fortress-bar-chart .bar {
        fill: steelblue;
      }

      #fortress-bar-chart .bar text {
        fill: white;
        font-size: 14px;
        text-anchor: middle;
      }
    </style>
  </head>
  <body>
    <h1>Parliamentary Elections</h1>
    <div id="scatterplot-container">
      <div id="turnout-scatterplot"></div>
      <div id="secondary-container">
        <div id="dropdowns">
          <select id="stateDropdown">
            <option value="all">All States</option>
          </select>
          <select id="partyDropdown">
            <option value="all">All Parties</option>
          </select>
        </div>
        <div id="dashboard">
          <p id="constituenciesInfo"></p>
          <p id="seatsWonInfo"></p>
        </div>
      </div>
    </div>

    <div id="landscape_analysis"></div>

    <div id="avg-turnout-container">
      <div id="heading">
        <h1>Average Turnout Percentage Throughout the Years (India)</h1>
      </div>
      <div id="avg-turnout-graph-container">
        <svg id="avg-turnout-svg-container"></svg>
      </div>
    </div>

    <div class="avg-turnout-tooltip"></div>

    <div id="pc-yearwise-turnout-container">
      <div id="heading">
        <h1>Constituency Turnout Percentage Throughout the Years (India)</h1>
        <select id="dropdown"></select>
      </div>
      <div id="pc-yearwise-turnout-graph-container">
        <svg id="pc-yearwise-turnout-svg-container"></svg>
      </div>
    </div>

    <div class="pc-yearwise-tooltip"></div>

    <div id="turnout-chloropleth-container">
      <div id="heading">
        <h1 style="color: white">
          Voters Turnout % Chloropleth India Yearwise<br />(1962 - 2019)
        </h1>
        <select id="year-dropdown">
          <option value="1962">1962</option>
          <option value="1967">1967</option>
          <option value="1971">1971</option>
          <option value="1977">1977</option>
          <option value="1980">1980</option>
          <option value="1984">1984</option>
          <option value="1989">1989</option>
          <option value="1991">1991</option>
          <option value="1996">1996</option>
          <option value="1998">1998</option>
          <option value="1999">1999</option>
          <option value="2004">2004</option>
          <option value="2009">2009</option>
          <option value="2014">2014</option>
          <option value="2019">2019</option>
        </select>
      </div>
      <div id="map-container">
        <svg id="india-map" width="1000" height="800"></svg>
      </div>
    </div>

    <div class="turnout-chloropleth-tooltip"></div>

    <h1>Turnout% Race of Indian States over the Years (1962-2019)</h1>
    <div id="chartdiv"></div>
    <script src="visualisations/js/race_script.js"></script>

    <input
      class="statewise-constituencies-slider"
      type="range"
      min="1962"
      max="2019"
      value="1962"
      step="1"
      id="yearSlider"
      oninput="updateYear()"
      style="width: 300px" />
    <div id="yearDisplay">Year: <span id="selectedYear">1962</span></div>
    <button onclick="getData()">Show Data</button>

    <div id="statewise-constituencies-chart"></div>
    <div class="statewise-constituencies-tooltip"></div>

    <div id="statewise-margin-container">
      <div id="sidebar">
        <h1>Election Day</h1>
        <label for="margin-slider">Minimum Margin Percentage:</label>
        <input type="range" id="margin-slider" min="0" max="30" value="0" />
        <span id="margin-value">0%</span>
        <select id="state-select">
          <option value="Andhra Pradesh">Andhra Pradesh</option>
          <option value="Arunachal Pradesh">Arunachal Pradesh</option>
          <option value="Assam">Assam</option>
          <option value="Bihar">Bihar</option>
          <option value="Chhattisgarh">Chhattisgarh</option>
          <option value="Goa">Goa</option>
          <option value="Gujarat">Gujarat</option>
          <option value="Haryana">Haryana</option>
          <option value="Himachal Pradesh">Himachal Pradesh</option>
          <option value="Jharkhand">Jharkhand</option>
          <option value="Karnataka">Karnataka</option>
          <option value="Kerala">Kerala</option>
          <option value="Madhya Pradesh">Madhya Pradesh</option>
          <option value="Maharashtra">Maharashtra</option>
          <option value="Manipur">Manipur</option>
          <option value="Meghalaya">Meghalaya</option>
          <option value="Mizoram">Mizoram</option>
          <option value="Nagaland">Nagaland</option>
          <option value="Odisha">Odisha</option>
          <option value="Punjab">Punjab</option>
          <option value="Rajasthan">Rajasthan</option>
          <option value="Sikkim">Sikkim</option>
          <option value="Tamil Nadu">Tamil Nadu</option>
          <option value="Telangana">Telangana</option>
          <option value="Tripura">Tripura</option>
          <option value="Uttar Pradesh">Uttar Pradesh</option>
          <option value="Uttarakhand">Uttarakhand</option>
          <option value="West Bengal">West Bengal</option>
          <option value="Andaman and Nicobar Islands">
            Andaman and Nicobar Islands
          </option>
          <option value="Chandigarh">Chandigarh</option>
          <option value="Dadra and Nagar Haveli and Daman and Diu">
            Dadra and Nagar Haveli and Daman and Diu
          </option>
          <option value="Lakshadweep">Lakshadweep</option>
          <option value="Delhi">Delhi</option>
          <option value="Puducherry">Puducherry</option>
        </select>
        <select id="year-select">
          <option value="1962.0">1962</option>
          <option value="1967.0">1967</option>
          <option value="1971.0">1971</option>
          <option value="1977.0">1977</option>
          <option value="1980.0">1980</option>
          <option value="1984.0">1984</option>
          <option value="1989.0">1989</option>
          <option value="1991.0">1991</option>
          <option value="1996.0">1996</option>
          <option value="1998.0">1998</option>
          <option value="2004.0">2004</option>
          <option value="2009.0">2009</option>
          <option value="2014.0">2014</option>
          <option value="2019.0">2019</option>
        </select>
        <button id="myButton">Show Data</button>
      </div>
      <div id="content">
        <svg id="scatterplot"></svg>
        <div id="tooltip"></div>
      </div>
    </div>

    <div id="state-overview-container">
      <svg id="fortress-state-map"></svg>

      <div id="details"></div>
      <div id="fortress-bar-chart"></div>
    </div>

    <script
      src="visualisations/js/turnout_scatterplot.js"
      type="module"></script>
    <script
      src="visualisations/js/landscape_analysis.js"
      type="module"></script>
    <script src="visualisations/js/avg_turnout.js" type="module"></script>
    <script
      src="visualisations/js/pc_yearwise_turnout.js"
      type="module"></script>
    <script
      src="visualisations/js/turnout_chloropleth.js"
      type="module"></script>
    <script
      src="visualisations/js/statewise-constituencies.js"
      type="module"></script>
    <script src="visualisations/js/statewise_margin.js" type="module"></script>
    <script
      src="visualisations/js/statewise_overview.js"
      type="module"></script>
  </body>
</html>
